@model IEnumerable<WebApplication1.Models.PostJob>
@using WebApplication1.Utility
@{
    ViewBag.Title = "Index";
}

<h2>TimeLine</h2>
@using (Html.BeginForm("Index", "Posts", FormMethod.Get))
{
    <br />
    @Html.TextBox("search", null, new { @class = "form-control" })
    @Html.RadioButton("option", "Jop Type") <text>Jop Type</text>
    @Html.RadioButton("option", "Date") <text>Date</text>
    @Html.RadioButton("option", "Client Name")<text>Client Name</text>
    <input type="submit"
           name="submit"
           value="Search" />
    <br />
    <br />
    <br />
    if (Model.Count() == 0)
    { <tr>
            <td><h2>Sorry We don't get it</h2></td>
        </tr>
    }
    else
    {

        if (User.IsInRole(SD.AdminUser))
        {
            <p>
                @Html.ActionLink("Create New Post", "Create", null, new { @class = "btn btn-info" })
            </p>
        }
        <table class="table">
            <tr>

                <th>
                    @Html.DisplayNameFor(model => model.UserName)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.JobType)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.JobBudget)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.CreationDate)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Discription)
                </th>

                <th>
                    @Html.DisplayNameFor(model => model.NumberOfSubmitted)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Rate)
                </th>
                <th>
                    @Html.Label("Actions")
                </th>

                <th></th>
            </tr>

            @foreach (var item in Model)
            {
                <tr>
                    @if (item.IsStillAvilavble == true)
                    {

                        <td>
                            @Html.DisplayFor(modelItem => item.UserName)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.JobType)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.JobBudget) $
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.CreationDate)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Discription)
                        </td>

                        <td>
                            @Html.DisplayFor(modelItem => item.NumberOfSubmitted)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Rate)
                        </td>

                        if (User.IsInRole(SD.AdminUser))
                        {
                            <td>
                                <a href="@Url.Action("Edit", "Posts", new { id = item.Id })" class="btn btn-primary form-control" style="width:100px">
                                    Edit
                                </a> |
                                <a href="@Url.Action("Delete", "Posts", new { id = item.Id })" class="btn btn-danger form-control" style="width:100px">
                                    Delete
                                </a>
                            </td>
                        }
                        else
                        {
                            <td>
                                <a href="@Url.Action("Details", "Posts", new { id = item.Id })" class="btn btn-primary form-control" style="width:100px">
                                    More Details
                                </a>
                            </td>
                        }
                    }
                </tr>
            }

        </table>
    }
}